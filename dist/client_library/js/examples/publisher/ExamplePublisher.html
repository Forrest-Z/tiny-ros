<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <script type='text/javascript' src='./../../tinyros/tinyros.js'></script>
    <script type='text/javascript' src='./../../tinyros/Publisher.js'></script>
    <script type='text/javascript' src='./../../tinyros_hello/TinyrosHello.js'></script>
    <script type="text/javascript">
      tinyros.init("JsExamplePublisher", "127.0.0.1");
      var count = 0;
      var msg = tinyros_hello.TinyrosHello();
      var pub = tinyros.Publisher("tinyros_hello", tinyros_hello.TinyrosHello);
      tinyros.nh().advertise(pub);
      (function publish() {
        msg.hello = (count++) + ": Hello, tiny-ros ^_^";
        pub.publish(msg);
        document.write("JsExamplePublisher ->> " + msg.hello + "<br>");
        setTimeout(publish, 1000);
      })();
    </script>
  </body>
</html>

